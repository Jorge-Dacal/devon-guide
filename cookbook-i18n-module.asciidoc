:toc: macro
toc::[]

= The i18n module

== Introduction

Internationalization (sometimes shortened to "i18n , meaning "i-eighteen letters-n") is the process of designing a software application so that it can potentially be adapted to various languages and regions without engineering changes.

The internationalization process is sometimes called translation or localization enablement.

== The i18n IP Module

The i18n concept is implemented in Devonfw through the i18n module. So, by including it in your project, you will be able to leverage MMM/devonfw features for internationalization by following few steps, avoiding the complex details of the implementation.

=== Adding the i18n module dependency to your project
To get access to the functionality of the i18n module you will need to include its dependency in your project's pom.xml



[WARNING]
====
The IP modules of Devonfw are stored in https://www.jfrog.com/artifactory/[Artifactory]. In case you do not have access to that repository, as the modules are included in the Devonfw distribution, you can install them manually. To do so open a Devonfw command line (_console.bat_), go to `Devon-dist\workspaces\examples\devon` and execute the command `mvn install`.
If project is already imported in Eclipse then update project: Right click on _project_ > _Maven_ > _Update Project_ > check the _Force update of Snapshot/Releases_ checkbox > _Ok_
====

=== Reading properties files without MMM integration

In Spring applications "locales" are the standard java property files which contain the translations of the applications texts as well as display format of elements like dates, numbers etc. These are placed at location _src/main/resources/locale_

image::images/devonfw-i18n/locale_path.png[,width="350",locale path, link="images/devonfw-i18n/locale_path.png"]

These properties files store the information in the form of key value pair. The i18n module provides the utility which converts these file entries in respective json format and sent back as a response to the HTTP GET request.


=== Reading properties files with MMM integration

_net.sf.mmm.util.nls.base.ResourceBundleSynchronizer_  is used to create .properties files for MMM implementation with respect to the locales.

*Steps to create .properties files:*

This will produce files at location _\src\main\resources\com\capgemini\devonfw\module\i18n\common\api\nls_

. Right click on i18n module.
. Go to Run As > Run Configurations... --> Right click on _Java Application_ --> click on New --> Provide name for the configuration (eg. ResouceBundleSyncronizer) --> Provide main class name as _net.sf.mmm.util.nls.base.ResouceBundleSyncronizer_
. Click on _Arguments_ tab besides Main tab.
. Enter program Arguments as "--locale <locale>" eg. "--locale en"
. Apply the changes and click on Run button.

image::images/devonfw-i18n/ResourceBundleSync_Main.png[,width="350",ResourceBundleSync_Main,link="images/devonfw-i18n/ResourceBundleSync_Main.png"]


image::images/devonfw-i18n/ResourceBundleSync_argument.png[,width="350",ResourceBundleSync_argument,link="images/devonfw-i18n/ResourceBundleSync_argument.png"]


File _config.properties_ provides flag value true/false, which is used to switch between default implementation and MMM implementation.

[source,xml]
----
i18n.mmm.enabled=true
----

== Integrate i18n module to your project

The i18n module provides easy creation and maintenance of distinct translations for your Devon applications. To implement the i18n module in a your project you must follow these steps:

=== Adding the dependency in our project.

Include the module dependency in your pom.xml
[source,xml]
----
<dependency>
  <groupId>com.capgemini.devonfw.modules</groupId>
  <artifactId>devonfw-i18n</artifactId>
  <version>2.1.0-SNAPSHOT</version>
</dependency>
----


=== Adding @ComponentScan to the class level

Add class level annotation to the below mentioned class.

[source,xml]
----
@ComponentScan(basePackages = { "com.capgemini.devonfw.module" })
public class ServiceConfiguration extends WsConfigurerAdapter {
}
----

=== Build Project and Run

Perform the operations clean & build for the project in eclipse and launch _SpringBootApp.java_. You can see the i18n webservice in available Restful webservices.

Webservice test :

[source,xml]
----
General Format : <service root>/i18n/locales/<local indicator>
eg. localhost:8081/oasp4j-sample-server/services/rest/i18n/locales/en_US
----
